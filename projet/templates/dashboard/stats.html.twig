{% extends 'base.html.twig' %}

{% block title %}Statistiques{% endblock %}

{% block titre %}STATISTIQUES{% endblock %}

{% block javascripts %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js" integrity="sha256-Y26AMvaIfrZ1EQU49pf6H4QzVTrOI8m9wQYKkftBt4s=" crossorigin="anonymous"></script>
{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
{% endblock %}

{% block listeNavBar %}
    <li class="nav-item">
        <a class="nav-link" style="color:white" href="/dashboardRespCons">Tableau de bord</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" style="color:white" href="/dashboardRespCons/listeConseillers">Liste des conseillers</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" style="color:white" href="/dashboardRespCons/planningGlobal">Planning Global</a>
    </li>
{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 1000px; max-height: 600px; width: 100%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
        .titreStats {margin-top: 50px; margin-bottom: 30px; text-decoration: underline; font-weight: bold; text-align: center}
    </style>

    <div class="example-wrapper">
        <h3 class="titreStats">Heures de pointes de RDV sur une journée :</h3>
        <canvas id="myChart" width="1000" height="600"></canvas>
    </div>

    <script>
        const ctx = document.getElementById('myChart');
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['8h-9h', '9h-10h', '10h-11h', '11h-12h', '12h-13h', '13h-14h','14h-15h', '15h-16h', '16h-17h', '17h-18h', '18h-19h', '19h-20h'],
                datasets: [{
                    label: 'RDV',
                    data: [3.75, 4.9, 8.7, 7.4, 2, 1.8, 6.9, 10.8, 12.7, 9.5, 6.4, 3.1],
                    backgroundColor: [
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(54, 162, 235, 0.2)'
                    ],
                    borderColor: [
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(54, 162, 235, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Nombre de RDV en moyenne'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Plage d\'heures disponible pour un RDV sur une journée'
                        }
                    }
                }
            }
        });
    </script>

{% endblock %}